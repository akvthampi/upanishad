<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upanishads - Ancient Wisdom Through Flashcards</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="upanishad_styles.css">
    <style>
        /* Welcome Overlay Styles */
        .welcome-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #2c5530 0%, #1a331a 100%);
            z-index: 9999;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 1;
            transition: opacity 0.5s ease;
        }

        .welcome-overlay.hidden {
            display: none;
        }

        .welcome-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 40px;
            max-width: 800px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            border: 3px solid #d4af37;
        }

        .welcome-content {
            text-align: center;
        }

        .welcome-icon {
            font-size: 4rem;
            color: #2c5530;
            margin-bottom: 20px;
        }

        .welcome-content h1 {
            color: #1a331a;
            font-size: 2.5rem;
            margin-bottom: 25px;
            font-weight: 700;
        }

        .welcome-text {
            text-align: left;
            margin-bottom: 35px;
            line-height: 1.7;
            color: #444;
            font-size: 1.1rem;
        }

        .welcome-text p {
            margin-bottom: 20px;
            text-align: justify;
        }

        .immerse-button {
            background: linear-gradient(135deg, #2c5530, #d4af37);
            color: white;
            border: none;
            padding: 18px 35px;
            font-size: 1.3rem;
            font-weight: 600;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(44, 85, 48, 0.4);
            display: inline-flex;
            align-items: center;
            gap: 12px;
            margin-top: 20px;
        }

        .immerse-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 30px rgba(44, 85, 48, 0.6);
        }

        /* === ADD THE MEDIA QUERY RIGHT HERE === */
        /* Hide logo on mobile */
        @media (max-width: 768px) {
            .header-logo {
            display: none;
        }
        }
    </style>
</head>
<body>
    <!-- Welcome Overlay -->
    <div id="welcomeOverlay" class="welcome-overlay">
        <div class="welcome-container">
            <div class="welcome-content">
                <div class="welcome-icon">
                    <i class="fas fa-om"></i>
                </div>
                <h1>Welcome to Upanishadic Wisdom</h1>
                <div class="welcome-text">
                    <p>The Upanishads are the philosophical essence of the Vedas, forming the foundation of Hindu spiritual thought. These ancient texts explore the nature of reality, consciousness, and the ultimate truth (Brahman).</p>
                    
                    <p>Composed between 800-200 BCE, the Upanishads contain profound dialogues between teachers and students, addressing fundamental questions about existence, the self, and liberation. They introduce key concepts like Atman (the true self), Brahman (ultimate reality), Maya (illusion), and Moksha (liberation).</p>
                    
                    <p>This flashcard program systematically presents the wisdom of the Upanishads through carefully structured questions and answers. You'll explore their historical context, philosophical teachings, spiritual practices, and enduring relevance to modern life.</p>
                </div>
                <button id="enterSite" class="immerse-button">
                    Explore Upanishadic Wisdom
                    <i class="fas fa-arrow-right"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Main App Content -->
    <div class="app-container" id="mainApp">
        <div class="content-header">
            <div class="header-left">
                <div class="main-title">The Upanishads</div>
                <div class="main-subtitle">Ancient wisdom through flashcards</div>
            </div>
            <div class="header-right">
                <img src="upanishad_cover.png" alt="Upanishads Logo" class="header-logo">
            </div>
        </div>
        
        <div class="main-content">
            <div class="welcome-section">
                <div class="stats-section">
                    <div class="stat-card"><div class="stat-number">10</div><div class="stat-label">Chapters</div></div>
                    <div class="stat-card"><div class="stat-number">1000+</div><div class="stat-label">Concepts</div></div>
                    <div class="stat-card"><div class="stat-number">100%</div><div class="stat-label">Wisdom</div></div>
                    <div class="stat-card"><div class="stat-number">Free</div><div class="stat-label">Access</div></div>
                </div>
            </div>

            <div id="resume-container" style="display: none;">
                <a href="#" id="resume-link" class="resume-button-simple">
                    <div class="resume-simple-content">
                        <div class="resume-icon">↻</div>
                        <div class="resume-text">
                            <div class="resume-title">Welcome back!</div>
                            <div class="resume-subtitle">Continue your spiritual journey</div>
                        </div>
                        <div class="resume-arrow">→</div>
                    </div>
                </a>
            </div>

            <h2 class="section-title">Select a chapter to explore Upanishadic wisdom</h2>
            
            <div class="chapters-grid" id="chaptersGrid">
                <!-- Chapters will be loaded here -->
            </div>
            
            <div class="published-section">
                <h2 class="published-title">Our Other Collections</h2>
                <p class="published-subtitle">Explore our other educational collections to expand your knowledge</p>
                
                <div class="published-grid">
                    <div class="published-card" data-url="https://gita.worksmartinfinite.org/">
                        <div class="published-title-text">Bhagavad Gita</div>
                        <div class="published-desc">700 verses across 18 chapters</div>
                    </div>
                    <div class="published-card" data-url="https://constitution.flashlearn.win/">
                        <div class="published-title-text">Indian Constitution</div>
                        <div class="published-desc">25 chapters with 4100+ flashcards</div>
                    </div>
                    <div class="published-card" data-url="https://gst.flashlearn.win/">
                        <div class="published-title-text">Goods and Services Tax</div>
                        <div class="published-desc">Complete GST concepts and procedures</div>
                    </div>
                </div>
            </div>
            
            <div class="coming-soon-section">
                <h2 class="coming-soon-title">More Spiritual Texts Coming Soon</h2>
                <p class="coming-soon-subtitle">Expand your spiritual knowledge with our upcoming collections</p>
                
                <div class="subjects-grid">
                    <div class="subject-card">
                        <div class="subject-title">Vedas</div>
                        <div class="subject-desc">Ancient scriptures of spiritual knowledge</div>
                    </div>
                    <div class="subject-card">
                        <div class="subject-title">Puranas</div>
                        <div class="subject-desc">Ancient mythological texts</div>
                    </div>
                    <div class="subject-card">
                        <div class="subject-title">Yoga Sutras</div>
                        <div class="subject-desc">Patanjali's guide to yoga practice</div>
                    </div>
                </div>
            </div>
        </div>
        
        <a href="https://worksmartinfinite.org" class="floating-home-btn" title="Go to worksmartinfinite Homepage">
            <i class="fas fa-home"></i>
        </a>
        
        <footer>
            <p>Made with <i class="fas fa-heart heart"></i> by Anil Kumar VT | Dedicated to Spiritual Enlightenment, Completely Ad-Free.</p>
        </footer>
    </div>

    <script>
        // Simple and direct approach
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded - starting initialization');
            
            // Chapter data
            const chapters = [
                { file: "upanishad_template.html?chap=01", name: "Chapter 1: Introduction to Upanishads", icon: "fas fa-book-open", description: "Origins, meaning, and significance", cardCount: 25 },
                { file: "upanishad_template.html?chap=02", name: "Chapter 2: Principal Upanishads", icon: "fas fa-star", description: "Major Upanishads and their contributions", cardCount: 20 },
                { file: "upanishad_template.html?chap=03", name: "Chapter 3: Metaphysical Concepts", icon: "fas fa-atom", description: "Brahman, Atman, and cosmic principles", cardCount: 25 },
                { file: "upanishad_template.html?chap=04", name: "Chapter 4: Philosophical Framework", icon: "fas fa-brain", description: "Core teachings and worldviews", cardCount: 25 },
                { file: "upanishad_template.html?chap=05", name: "Chapter 5: Spiritual Practices", icon: "fas fa-spa", description: "Meditation, yoga, and self-realization", cardCount: 20 },
                { file: "upanishad_template.html?chap=06", name: "Chapter 6: Ethical Teachings", icon: "fas fa-balance-scale", description: "Dharma, karma, and moral principles", cardCount: 20 },
                { file: "upanishad_template.html?chap=07", name: "Chapter 7: Cosmology & Creation", icon: "fas fa-globe", description: "Universe origins and cosmic order", cardCount: 20 },
                { file: "upanishad_template.html?chap=08", name: "Chapter 8: Psychology of Consciousness", icon: "fas fa-mind", description: "Mind, senses, and states of awareness", cardCount: 25 },
                { file: "upanishad_template.html?chap=09", name: "Chapter 9: Modern Relevance", icon: "fas fa-lightbulb", description: "Applications in contemporary life", cardCount: 20 },
                { file: "upanishad_template.html?chap=10", name: "Chapter 10: Comparative Study", icon: "fas fa-exchange-alt", description: "Upanishads and other traditions", cardCount: 20 }
            ];

            // Render chapters immediately
            function renderChapters() {
                const chaptersGrid = document.getElementById('chaptersGrid');
                if (!chaptersGrid) {
                    console.error('ERROR: chaptersGrid element not found!');
                    return;
                }
                
                console.log('Rendering chapters...');
                let chaptersHTML = '';
                
                chapters.forEach((chapter, index) => {
                    const chapterNumber = String(index + 1).padStart(2, '0');
                    const chapterFile = `upanishad_template.html?chap=${chapterNumber}`;
                    
                    chaptersHTML += `
                        <div class="chapter-card" data-file="${chapterFile}">
                            <div class="chapter-icon">
                                <i class="${chapter.icon}"></i>
                            </div>
                            <div class="chapter-title">${chapter.name}</div>
                            <div class="chapter-desc">${chapter.description}</div>
                            <div class="chapter-count">${chapter.cardCount} cards</div>
                        </div>
                    `;
                });
                
                chaptersGrid.innerHTML = chaptersHTML;
                console.log('Chapters rendered successfully!');
                
                // Add click events
                document.querySelectorAll('.chapter-card').forEach(card => {
                    card.addEventListener('click', function() {
                        const file = this.getAttribute('data-file');
                        window.location.href = file;
                    });
                });
            }

            // Welcome screen logic
            const welcomeOverlay = document.getElementById('welcomeOverlay');
            const mainApp = document.getElementById('mainApp');
            const enterButton = document.getElementById('enterSite');

            // Check if user has seen welcome before
            const hasSeenWelcome = localStorage.getItem('upanishad_welcome_seen');
            
            if (hasSeenWelcome) {
                console.log('User has seen welcome before - hiding welcome screen');
                welcomeOverlay.style.display = 'none';
                mainApp.style.display = 'block';
                renderChapters();
            } else {
                console.log('First time user - showing welcome screen');
                welcomeOverlay.style.display = 'flex';
                mainApp.style.display = 'none';
                
                // Handle enter button click
                enterButton.addEventListener('click', function() {
                    console.log('Enter button clicked');
                    welcomeOverlay.style.display = 'none';
                    mainApp.style.display = 'block';
                    localStorage.setItem('upanishad_welcome_seen', 'true');
                    renderChapters();
                });
            }

            // Setup published cards
            document.querySelectorAll('.published-card').forEach(card => {
                card.addEventListener('click', function() {
                    const url = this.getAttribute('data-url');
                    window.open(url, '_blank');
                });
            });

            console.log('Initialization complete');
        });
    </script>
</body>
</html>